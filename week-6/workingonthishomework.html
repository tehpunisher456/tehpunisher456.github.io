<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css"
        integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
        <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.8.1/css/all.css"
        integrity="sha384-50oBUHEmvpQ+1lW4y57PTFmhCaXp0ML5d60M1M7uH2+nqUivzIebhndOJK28anvf" crossorigin="anonymous" />
            <link rel="stylesheet" type="text/css" href="style.css">
</head>

<body>
    <div class="jumbotron jumbotron-fluid">
        <div class="container">
            <h1 class="display-4"> Weather Dashboard</h1>
        </div>
    </div>

    <div class="container">
        <div class="row">
            <div class="col-4">
                <div class="list-group">
                    <div class="row ">
                        <br>
                        <div class="input-group mb-3 container search-bar">
                            <input type="text" class="form-control" placeholder="Enter City Name"
                                aria-label="Recipient's username" aria-describedby="button-addon2" id="search-field">
                            <div class="input-group-append">
                                <button class="btn btn-outline-secondary fas fa-search" type="button"
                                    id="button-addon2 "></button>
                            </div>
                        </div>
                    </div>

                    <button type="button" class="list-group-item list-group-item-action" id="Austin">Austin</button>
                    <button type="button" class="list-group-item list-group-item-action" id="Chicago">Chicago</button>
                    <button type="button" class="list-group-item list-group-item-action" id="New+York">New York</button>
                    <button type="button" class="list-group-item list-group-item-action" id="Orlando">Orlando</button>
                    <button type="button" class="list-group-item list-group-item-action" id="San+Francisco">San Francisco</button>
                    <button type="button" class="list-group-item list-group-item-action" id="Seattle">Seattle</button>
                    <button type="button" class="list-group-item list-group-item-action" id="Denver">Denver</button>
                    <button type="button" class="list-group-item list-group-item-action" id="Atlanta">Atlanta</button>
                    <button type="button" class="list-group-item list-group-item-action list-bottom" id="Los+Angeles">Los Angeles</button>
                </div>
            </div>
            <div class="col-8">
                <div class="card">
                    <div class="card-body">
                        <div class="container">
                            <div class="city"></div>
                            <div class="wind"></div>
                            <div class="humidity"></div>
                            <div class="temp"></div>
                        </div>
                    </div>
                </div>
                <div class="row">

                </div>
            </div>

        </div>





        <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
        <script type="text/javascript">

            var SearchResults = "Los angeles"

            function Lookup(){
            // This is our API key
            var APIKey = "7cee38685c42a8f20d82266e925737b9";

            // Here we are building the URL we need to query the database
            var queryURL = "https://api.openweathermap.org/data/2.5/weather?q="+ SearchResults +"&units=imperial&appid=" + APIKey;
            // var forecastURL = "https://api.openweathermap.org/data/2.5/forecast?q=" + SearchResults + "&units=imperial&appid=" + APIKey;

            // Here we run our AJAX call to the OpenWeatherMap API
            $.ajax({
                url: queryURL,
                method: "GET"
            })
                // We store all of the retrieved data inside of an object called "response"
                .then(function (response) {

                    // Log the queryURL
                    console.log(queryURL);

                    // Log the resulting object
                    console.log(response);

                    // Transfer content to HTML
                    $(".city").html("<h1>" + response.name + " Weather</h1>");
                    $(".wind").text("Wind Speed: " + response.wind.speed + " Miles Per Hour");
                    $(".humidity").text("Humidity: " + response.main.humidity +"%");
                    $(".temp").text("Temperature: " + response.main.temp + " Degrees Fahrenheit");

                    // Converts the temp to Kelvin with the below formula
                    var tempF = (response.main.temp - 273.15) * 1.80 + 32;
                    $(".tempF").text("Temperature (Kelvin) " + tempF);

                    // Log the data in the console as well
                    console.log("Wind Speed: " + response.wind.speed);
                    console.log("Humidity: " + response.main.humidity);
                    console.log("Temperature (F): " + response.main.temp);
                });
            }
            Lookup()

            $("#button-addon2").on("click", function(event) {
                event.preventDefault()
                var SearchResults = $("#search-field").val().trim()
                console.log(SearchResults)
                var APIKey = "7cee38685c42a8f20d82266e925737b9";

            // Here we are building the URL we need to query the database
            var queryURL = "https://api.openweathermap.org/data/2.5/weather?q="+ SearchResults +"&units=imperial&appid=" + APIKey;
            // var forecastURL = "https://api.openweathermap.org/data/2.5/forecast?q=" + SearchResults + "&units=imperial&appid=" + APIKey;
            // var uvURL = "http://api.openweathermap.org/data/2.5/uvi?appid=" + APIKey + "&" + latVar + "&" + lonVar;
            // var latVar = "lat=" + response.coord.lat
            // var lonVar = "lon="+response.coord.lon

            // Here we run our AJAX call to the OpenWeatherMap API
            $.ajax({
                url: queryURL,
                method: "GET"
            })
                // We store all of the retrieved data inside of an object called "response"
                .then(function (response) {

                    // Log the queryURL
                    console.log(queryURL);

                    // Log the resulting object
                    console.log(response);

                    // Transfer content to HTML
                    $(".city").html("<h1>" + response.name + " Weather</h1>");
                    $(".wind").text("Wind Speed: " + response.wind.speed);
                    $(".humidity").text("Humidity: " + response.main.humidity);
                    $(".temp").text("Temperature (F) " + response.main.temp);

                    // Converts the temp to Kelvin with the below formula
                    var tempF = (response.main.temp - 273.15) * 1.80 + 32;
                    $(".tempF").text("Temperature (Kelvin) " + tempF);

                    // Log the data in the console as well
                    console.log("Wind Speed: " + response.wind.speed);
                    console.log("Humidity: " + response.main.humidity);
                    console.log("Temperature (F): " + response.main.temp);
                    // console.log(latVar)
                    // console.log(lonVar)
                });
                
            //     $.ajax({
            //     url: forecastURL ,
            //     method: "GET"
            // })
            //     // We store all of the retrieved data inside of an object called "response"
            //     .then(function (response) {

            //         // Log the queryURL
            //         console.log(queryURL);

            //         // Log the resulting object
            //         console.log(response);

            //         // Transfer content to HTML
            //         $(".city").html("<h1>" + response.name + " Weather</h1>");
            //         $(".wind").text("Wind Speed: " + response.wind.speed);
            //         $(".humidity").text("Humidity: " + response.main.humidity);
            //         $(".temp").text("Temperature (F) " + response.main.temp);

            //         // Converts the temp to Kelvin with the below formula
            //         var tempF = (response.main.temp - 273.15) * 1.80 + 32;
            //         $(".tempF").text("Temperature (Kelvin) " + tempF);

            //         // Log the data in the console as well
            //         console.log("Wind Speed: " + response.wind.speed);
            //         console.log("Humidity: " + response.main.humidity);
            //         console.log("Temperature (F): " + response.main.temp);
            //     });
                
        

                })
                console.log(SearchResults)

        </script>
</body>

</html>